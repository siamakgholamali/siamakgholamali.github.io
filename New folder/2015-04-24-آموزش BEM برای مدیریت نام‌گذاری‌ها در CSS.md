---
layout: post
toptitle: 'آموزش BEM برای مدیریت نام‌گذاری‌‌ کلاس‌ها'
title: 'زیردریایی، بدون نشتی'
tags: کدنویسی
face: /images/bem-batman.jpg
jalali: 'جمعه، ۴ اردیبهشت ۱۳۹۴'
permalink: /blog/BEM-guide-for-name-structure
keywords: "آموزش BEM, نام‌گذاری کلاس‌ها, نام‌گذاری CSS, Block Element Modifier, کدنویسی"
custom-excerpt: 'احتمالاً برای شما هم پیش اومده که قسمت زیادی از یک پروژه رو انجام بدید و به هر دلیلی بخواید برگردید ابتدای کار و روی CSS تغییر اعمال کنید. اون موقع‌ست که چند برابر اون وقتی که برای تغییرات لازم هست رو باید بذارید و صرف فهمیدن این کنید که کلاس‌هایی که قبلا نوشتین از کجا اومدن، هرکدوم مال چه بخشی هستند و به هم‌دیگه چه ربطی دارن. و سوال‌هایی مثل «این کد رو چرا گذاشتم اینجا؟»، «این کلاس رو به چندتا المنت اختصاص دادم؟»، «چه کلاس‌های دیگه‌ای دارن روی این المنت تاثیر میذارن؟» و غیره.
و احتمالا در نهایت باید مرتب بین فایل HTML و CSS سوییچ کنید تا بفهمید قضیه واقعا چیه.'
---
احتمالاً برای شما هم پیش اومده که قسمت زیادی از یک پروژه رو انجام بدید و به هر دلیلی بخواید برگردید ابتدای کار و روی CSS تغییر اعمال کنید. اون موقع‌ست که چند برابر اون وقتی که برای تغییرات لازم هست رو باید بذارید و صرف فهمیدن این کنید که کلاس‌هایی که قبلا نوشتین از کجا اومدن، هرکدوم مال چه بخشی هستند و به هم‌دیگه چه ربطی دارن. و سوال‌هایی مثل «این کد رو چرا گذاشتم اینجا؟»، «این کلاس رو به چندتا المنت اختصاص دادم؟»، «چه کلاس‌های دیگه‌ای دارن روی این المنت تاثیر میذارن؟» و غیره.
و احتمالا در نهایت باید مرتب بین فایل HTML و CSS سوییچ کنید تا بفهمید قضیه واقعا چیه.

راه‌های مختلفی برای جلوگیری از این مشکلات وجود داره. ولی بهترین راه اینه که قوانین مشخصی رو برای نام‌گذاری کلاس‌هاتون مشخص کنید و تو کل پروژه از این قوانین پیروی کنین.
متودولوژی‌های آماده زیادی، مثل [OOCSS](http://oocss.org/){:target="_blank" class="content__link"}، [SMACSS](https://smacss.com/){:target="_blank" class="content__link"}، [Atomic CSS](http://patternlab.io/){:target="_blank" class="content__link"} و [Suit CSS](https://suitcss.github.io/){:target="_blank" class="content__link"} توسط افراد مختلفی متولد شده که میتونین هرکدوم رو که ترجیح میدین استفاده کنین؛ _یا حتی قوانین خودتون رو بسازین_!

![BEM naming](/images/bem-batman.jpg)

---

### BEM چیه؟
BEM هم یکی دیگه از متودولوژی‌هایی هست که توسعه‌دهنده رو توی بحث نام‌گذاری و طبقه‌بندی کلاس‌ها بسیار کمک میکنه.
BEM مخفف Block, Element, Modifier هست و تمرکز اصلیش روی کنار هم چیدن بخش‌های مختلف یک وبسایت بصورت **بلاک‌های معنادار** متعدد در کنار هم هست.

### چرا BEM؟
BEM بسیار ساده و قابل فهمه؛ پیچیدگی‌های خاصی نداره و به خاطر اینکه با DOMصفحه ما پیوند میخوره، مقدار بسیار زیادی درک ما رو از صفحه آسون‌تر می‌کنه.
همینطور اگه قراره روی یک پروژه بصورت گروهی کار کنید، افرادی که روی قسمت‌های مختلف کار میکنن کد هماهنگی مینویسن.
یا اگه به هر دلیلی کسی دیگه بخواد کد شما رو بخونه، رعایت کردن این قوانین باعث می‌شه توسعه‌دهنده‌های دیگه توی کدی که شما نوشتید سردرگم نشن.

تو نگاه اول طبیعتاً این روش نام‌گذاری، و `_`ها و `-` های متعدد حس عجیبی به شما میده و ممکنه این روش رو نخواید استفاده کنید. اما همین «آندرلاین»ها و «دش»ها هستند که باعث شدن یکی از بهترین و قدرتمندترین روش‌های نام‌گذاری بوجود بیاد.

> BEM بسیار مفید و قدرتمنده و با قراردادهای ساده‌ی نام‌گذاری باعث می‌شه کد Front-end شما آسون‌تر خونده و فهمیده بشه، آسون‌تر بشه باهاش کار کرد و آسون‌تر بشه گسترش دادش.
> کد شما رو قدرتمند، واضح و بدون سردرگمی میکنه.
>
###### Harry Roberts, [CSSWizardy.com](http://csswizardry.com)

---

### بخش اول: Block
بلاک‌ها بخش‌های مستقلی از سایت شما هستند که به تنهایی معنی دارن و وجودشون به گره‌های دیگه وابستگی نداره. هر بلاک میتونه شامل Blockهای دیگه یا Elementها باشه.

{% highlight html %}
<div class="block">
	<div></div>
	<div></div>
	<div></div>
</div>
{% endhighlight %}

در نام‌گذاری بلاک‌ها میتونید از حروف لاتین، اعداد و `-`های تکی اسفاده کنید.

### بخش دوم: Element
Elementها بخشی از بلاک‌ها هستند. به تنهایی معنایی ندارن و وجودشون به وجود بلاک مادر وابسته‌ست.

{% highlight html %}
<div class="block">
	<div class="block__element"></div>
	<div class="block__element"></div>
	<div class="block__element"></div>
</div>
{% endhighlight %}

برای نام‌گذاری المنت، باید ابتدا نام بلاک مادر رو بیارید، به‌همراه `__` و بعد اسم خود المنت. اگه اسم المنت شما از چند بخش تشکیل شده، اون‌ها رو [مثل بلاک‌ها] با `-` از هم جدا کنید.

### بخش سوم:&nbsp;Modifier
Modifierها وظیفه تغییر ظاهر یا رفتار یک بلاک یا المنت رو دارند.

برای نام‌گذاری مادیفایرها، اسم بلاک یا المنت رو بهمراه `--` و بعد عنوان اون میارید.

{% highlight html %}
<div class="block">
	<div class="block__element"></div>
	<div class="block__element"></div>
	<div class="block__element--modifier"></div>
</div>
{% endhighlight %}

---

### ترکیب هیجان انگیز BEM و SASS
اگه از [SASS](http://sass-lang.com){:target="_blank" class="content__link"} استفاده میکنید، با تب‌های فرو رفته و استفاده از `@extend` کد بسیار بهتری خواهید داشت. بنابراین به راحتی به هر گره فقط یک کلاس اعمال می‌کنید و دیگه کد شما WET نخواهد بود.

![BEM with Sass](/images/bem-sass.jpg)

ساختار HTML زیر رو در نظر بگیرید:

{% highlight html %}
<nav class="navbar">
	<ul class="navbar__items">
		<li class="navbar__item--home">Home</li>
		<li class="navbar__item">More</li>
		<li class="navbar__item">About us</li>
	</ul>
</nav>
{% endhighlight %}

و همینطور فایل scss شما:

{% highlight scss %}
.navbar {
	&__items {
	width: 400px;
	background: #cccccc;
	}

	&__item {
		margin: 0 10px;
		font-family: Roboto;
		color: #505050;
		&--home {
			@extend .navbar__item;
			color: green;
			font-weight: bold;
		}
	}
}
{% endhighlight %}
با استفاده از `&` به کامپایلر میگید یک کلاس با اسم مادر به همراه اسمی که خودمون بعد از `&` میاریم بسازه.
و با `@extend` هم ویژگی‌های یک کلاس رو برای کلاس دیگه فراخوانی میکنید.

<p class="content__important">واضحه که برای <code>&--home</code> نمیتونید چیزی مثل <code>@extend &__item</code> بنویسید.</p>

خروجی CSS:

{% highlight scss %}
.navbar__items {
	width: 400px;
	background: #cccccc;
}
.navbar__item, .navbar__item--home {
	margin: 0 10px;
	font-family: Roboto;
	color: #505050;
}
.navbar__item--home {
	color: green;
	font-weight: bold;
}
{% endhighlight %}

---

### توصیه‌ها

* مهمترین نکته‌ای که باید در BEM در نظر بگیرید اینه که لازم نیست مشابه ساختار تودرتوی درخت DOM رو برای BEM اعمال کنید.

DOM Tree:

{% highlight html %}
<ul>
	<li>
		<a>
			<span></span>
		</a>
	</li>
</ul>

ul {}
ul > li {}
ul > li > a {}
ul > li > a > span {}
{% endhighlight %}


BEM Tree:

{% highlight html %}
<ul>
	<ul__li>
	<ul__a>
	<ul__span>
	</ul__a>
	</ul__li>
</ul>

.ul {}
.ul__li {}
.ul__a {}
.ul__span {}
{% endhighlight %}

یا تو این مثال:

نام‌گذاری (احتمالا) اشتباه:

{% highlight html %}
<div class="block">
	<div class="block__element1">
		<div class="block__element1__element2"></div>
		<div class="block__element1__element2"></div>
	</div>
</div>
{% endhighlight %}

نام‌گذاری (احتمالا) درست:

{% highlight html %}
<div class="block">
	<div class="block__element1">
		<div class="block__element2"></div>
		<div class="block__element2"></div>
	</div>
</div>
{% endhighlight %}

* تو اعمال BEM زیاده‌روی نکنید و اون رو تا جایی اعمال کنید که لازم باشه. صرف اینکه چیزی درون یک بلاک هست دلیل نمیشه اون BEM باشه.
باید به این نکته توجه کنید که «آیا ویژگی‌هایی که به اون اختصاص میدیم صرفاً به خاطر وجودش توی این بلاک هست یا اگه جای دیگه هم بود همین ویژگی‌ها رو بهش میدادیم؟»

{% highlight html %}
<div class="header">
	<div class="header__seach-box">
	</div>
	{% endhighlight %}

تو مثال بالا، در صورتی که اگه جای دیگه هم این باکس رو داشته باشیم پراپرتی‌های کاملا متفاوتی نخواهد داشت، احتمالا میتونیم به گره میانی فقط کلاس `search-box` بدیم.

این مثال  رو ببینید:

{% highlight html %}
<div class="human">
	<div class="human__head">
		<div class="human__head__hair">
			Some hairy stuff here.
		</div>

		<div class="...">
			...
		</div>
	</div>

	<div class="human__body">
		<div class="human__body__arm--right">
			<div class="[?]">
			</div>
		</div>
	</div>
</div>
{% endhighlight %}
اینجا سر انسان ساخته شده. و روی سر هم «مو» داریم. پایین‌تر هم دست انسان رو ساختیم و برای اون هم میخوایم «مو» داشته باشیم. حالا اگه از قبل بدونیم که این «مو» تو کل بدن به دفعات وجود داره و فقط تو ویژگی‌های جزئی با هم تفاوت دارند (که اعمال این ویژگی‌ها کار مادیفایر هست)، به جای استفاده از کلاس `human_head_hair`، از کلاس `human__hair` استفاده میکنیم و اینجا چنین چیزی خواهیم داشت:

{% highlight html %}
<div class="human">
	<div class="human__head">
		<div class="human__hair--head">
			Some hairy stuff here.
		</div>

		<div class="...">
			...
		</div>
	</div>

	<div class="human__body">
		<div class="human__body__arm--right">
			<div class="human__hair--arms">
				no need to haircut!
			</div>
		</div>
	</div>
</div>
{% endhighlight %}

{% highlight scss %}
$black_as_night: #000000;

.human__hair {
	style: straight;
	diseases: none;
	color: $black_as_night;

	&--hair {
		@extend .human__hair;
		long: 5cm;
	}

	&--arms {
		@extend .human__hair;
		long: 0.5cm;
	}
}
{% endhighlight %}

* تو نام‌گذاری BEM، لازم نیست به هر گره بیشتر از یک کلاس بدین. مگه تحت شرایط مختلف لازم داشته باشین.

- برای انتخاب گره مورد نظرتون نه از `id` استفاده کنید، نه اسم تگ HTMLتون رو قبل از اسم کلاس بیارید و نه از سلکتورهای پشت سرهم مثل `.header ul li` استفاده کنید. همیشه ارجحیت CSSتون رو در پایین‌ترین سطح نگه دارید.
(+ [ارجحیت در CSS](http://front-end.ir/ui/css-specificity))

* وقتی میخواید اسم کلاس‌هاتون رو انتخاب کنید، از پراپرتی‌هایی که توی CSS ممکنه داشته باشین استفاده نکنین. مثلا `<div class="search-box__button--green">` نمیتونه انتخاب مناسبی باشه.
اسم کلاس‌ها رو به خاطر حالتی که وجود داره ننویسید؛ به خاطر شرایط یا موقعیتی که اون حالت رو بوجود آورده بنویسید.
احتمالا `<div class="search-box__button--enabled">` نام بهتری برای کلاس شما خواهد بود.

> نویسندگان رو تشویق میکنیم تا از کلاس‌هایی استفاده کنند که طبیعت محتوا رو نشون بدن؛ به جای اینکه توصیف کننده خود محتوا باشن.
>
###### HTML5 specification on classes

* استفاده از متودولوژی مناسب باعث میشه بعد از یه مدت بتونین راحت بفهمین «اینجا چه کاری انجام شده»؛ ولی برای اینکه بفهمین «این کار چرا اینطوری انجام شده» باید Implementation (نحوه اجرای مشخص) مناسبی داشته باشید.

### در نهایت
اگه پروژه کوچیکی دارین، کلاس‌هاش رو با قوانین BEM بازنویسی کنین؛ و اگر نه، پروژه ساده کوچیکی رو شروع کنید و توش از کلاس‌های BEM استفاده کنید.
زیاد از حد خودتون رو درگیر قوانین نکنید. اگه فکر میکنید توی قسمتی میتونید قوانین خودتون رو داشته باشید، احتمالا کسی شما رو به خاطرش سرزنش نمیکنه.
مثلاً ممکنه کسی ترجیح بده به جای استفاده از `-` برای جداسازی نام کلاس‌ها، از CamelCase استفاده کنه.

در نهایت خیلی از قوانین به خودتون بستگی داره.
